<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>KrishiMitra - Agriculture assistant</title>
    <link rel="stylesheet" href="styles.css" />
</head>

<body>
    <!-- HEADER / NAVIGATION -->
    <header>
        <div class="logo">KrishiMitra</div>
        <nav>
            <ul>
                <li onclick="showSection('home')">Home</li>
                <li class="dropdown">
                    <div class="dropdown-btn">
                        Predict
                        <img src="dropdown_arrow.svg" alt="Dropdown" class="dropdown-icon" />
                    </div>
                    <div class="dropdown-content">
                        <div onclick="showSection('disease-predict')">Disease Detection</div>
                        <div onclick="showSection('pest-predict')">Pest Detection</div>
                    </div>
                </li>
                <li onclick="openLocationModal()">Set Location</li>
            </ul>
        </nav>
        <div class="auth-buttons">
            <button class="btn-login" onclick="showLogin()">Login</button>
            <button class="btn-signup" onclick="showSignup()">Signup</button>
        </div>
    </header>

    <!-- MAIN CONTAINER -->
    <div class="container">
        <!-- HOME SECTION -->
        <section id="home" class="home-section active">
            <h1 class="home-heading">Welcome to KrishiMitra</h1>
            <p class="home-subheading">
                This tool helps farmers identify potential diseases and pests in crops.
                Upload a photo of your plant and get an instant prediction.
            </p>
            <div class="home-images">
                <img class="hero-image" src="farmingField.png" alt="Crop field 1" />
            </div>
        </section>

        <!-- DISEASE PREDICT SECTION -->
        <section id="disease-predict" class="predict-section">
            <h2 class="section-title">Disease Detection</h2>
            <div class="prediction-container">
                <div class="left-column">
                    <div class="predict-form">
                        <h3>Upload Plant Image</h3>
                        <div class="form-group">
                            <label for="diseaseImage">Select Image:</label>
                            <input type="file" id="diseaseImage" accept="image/*" 
                                onchange="previewImage('diseaseImage', 'disease-preview')" />
                        </div>
                        <button class="btn-submit" onclick="predictDisease()">Predict Disease</button>
                    </div>
                    <div class="prediction-result">
                        <h3>Prediction Results</h3>
                        <p><strong>Plant:</strong> <span id="plant-name">--</span></p>
                        <p><strong>Disease:</strong> <span id="disease-name">--</span></p>
                        <p><strong>Confidence Score:</strong>
                            <span id="disease-confidence-score" class="confidence-score">--%</span>
                        </p>
                        <button class="btn-submit" onclick="getSolution('disease')">Get Solution</button>
                    </div>
                </div>
                <div class="right-column">
                    <div class="image-preview-container">
                        <div id="disease-preview" class="image-preview">
                            <p>Image preview will appear here</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- PEST PREDICT SECTION -->
        <section id="pest-predict" class="predict-section">
            <h2 class="section-title">Pest Detection</h2>
            <div class="prediction-container">
                <div class="left-column">
                    <div class="predict-form">
                        <h3>Upload Plant Image</h3>
                        <div class="form-group">
                            <label for="pestImage">Select Image:</label>
                            <input type="file" id="pestImage" accept="image/*" 
                                onchange="previewImage('pestImage', 'pest-preview')" />
                        </div>
                        <button class="btn-submit" onclick="predictPest()">Predict Pest</button>
                    </div>
                    <div class="prediction-result">
                        <h3>Prediction Results</h3>
                        <p><strong>Pest:</strong> <span id="pest-name">--</span></p>
                        <p><strong>Confidence Score:</strong>
                            <span id="pest-confidence-score" class="confidence-score">--%</span>
                        </p>
                        <button class="btn-submit" onclick="getSolution('pest')">Get Solution</button>
                    </div>
                </div>
                <div class="right-column">
                    <div class="image-preview-container">
                        <div id="pest-preview" class="image-preview">
                            <p>Image preview will appear here</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Toggle Button -->
    <button id="chatbot-toggle" onclick="toggleChatbot()">
        <img src="chatbot-icon.png" alt="Chat" class="chatbot-icon" />
    </button>

    <!-- Chatbot Container -->
    <div id="chatbot-container" style="display: none;">
        <div id="chatbot-header" style="box-shadow: 10px 10px;">
            <span style="margin-left: 10px;">Chatbot</span>
            <button onclick="toggleChatbot()" id="chatbot-close">
                <img src="cross_icon.png" alt="Close" class="close-icon" />
            </button>
        </div>
        <div id="chatbot-messages"></div>
        <div id="chatbot-input-container">
            <input type="text" id="chatbot-input" placeholder="Ask me anything..." />
            <div onclick="sendChat()" id="send_button">
                <img  src="arrow_icon.png" alt="enter" id="send_img" />
            </div>
        </div>
    </div>

    <!-- Location Modal -->
    <div id="location-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeLocationModal()">
                <img src="cross_icon.png" style="filter: none;" alt="Close" class="close-icon" />
            </span>
            <h2>Set Your Location</h2>
            <input type="text" id="modal-location-input" placeholder="Enter city name" />
            <button onclick="submitLocation()">Set Location</button>
        </div>
    </div>

    <!-- FOOTER -->
    <footer>
        <p>Â© 2025 KrishiMitra. All Rights Reserved.</p>
    </footer>

    <script src="script.js"></script>
</body>

</html>